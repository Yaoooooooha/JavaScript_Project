{"ast":null,"code":"var _jsxFileName = \"/Users/yaoha0807/Desktop/JavaScript/JavaScript_Project/Project9-\\u7DDA\\u4E0A\\u8AB2\\u7A0B\\u7DB2\\u7AD9/client/src/components/postCourse-component.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport CourseService from \"../services/course.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PostCourseComponent = ({\n  currentUser\n}) => {\n  _s();\n  let [title, setTitle] = useState(\"\");\n  let [description, setDescription] = useState(\"\");\n  let [price, setPrice] = useState(0);\n  let [message, setMessage] = useState(\"\"); // 錯誤 / 成功訊息\n  const navigate = useNavigate(); // 重新導向的物件\n  // 回到登入頁面\n  const handleTakeToLogin = () => {\n    navigate(\"/login\");\n  };\n  // 當偵測到前端元素中...的值改變後，更改其變數的值\n  const handleChangeTitle = e => {\n    setTitle(e.target.value);\n  };\n  const handleChangeDesciption = e => {\n    setDescription(e.target.value);\n  };\n  const handleChangePrice = e => {\n    setPrice(e.target.value);\n  };\n  const postCourse = () => {\n    CourseService.post(title, description, price).then(() => {\n      window.alert(\"成功創建新課程\");\n      navigate(\"/course\");\n    }).catch(error => {\n      console.log(error.response);\n      setMessage(error.response.data);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"3rem\"\n    },\n    children: [!currentUser && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u5728\\u767C\\u5E03\\u65B0\\u8AB2\\u7A0B\\u4E4B\\u524D\\uFF0C\\u60A8\\u5FC5\\u9808\\u5148\\u767B\\u9304\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary btn-lg\",\n        onClick: handleTakeToLogin,\n        children: \"\\u56DE\\u5230\\u767B\\u5165\\u9801\\u9762\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), currentUser && currentUser.user.role !== \"instructor\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u53EA\\u6709\\u8B1B\\u5E2B\\u53EF\\u4EE5\\u767C\\u5E03\\u65B0\\u8AB2\\u7A0B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), currentUser && currentUser.user.role == \"instructor\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"exampleforTitle\",\n        children: \"\\u8AB2\\u7A0B\\u6A19\\u984C\\uFF1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"title\",\n        type: \"text\",\n        className: \"form-control\",\n        id: \"exampleforTitle\",\n        onChange: handleChangeTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"exampleforContent\",\n        children: \"\\u5167\\u5BB9\\uFF1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"form-control\",\n        id: \"exampleforContent\",\n        \"aria-describedby\": \"emailHelp\",\n        name: \"content\",\n        onChange: handleChangeDesciption\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"exampleforPrice\",\n        children: \"\\u50F9\\u683C\\uFF1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"price\",\n        type: \"number\",\n        className: \"form-control\",\n        id: \"exampleforPrice\",\n        onChange: handleChangePrice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: postCourse,\n        children: \"\\u4EA4\\u51FA\\u8868\\u55AE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-warning\",\n        role: \"alert\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(PostCourseComponent, \"i/X7BYZzSmYvANRezqJW0/Xx9vw=\", false, function () {\n  return [useNavigate];\n});\n_c = PostCourseComponent;\nexport default PostCourseComponent;\nvar _c;\n$RefreshReg$(_c, \"PostCourseComponent\");","map":{"version":3,"names":["React","useState","useNavigate","CourseService","jsxDEV","_jsxDEV","PostCourseComponent","currentUser","_s","title","setTitle","description","setDescription","price","setPrice","message","setMessage","navigate","handleTakeToLogin","handleChangeTitle","e","target","value","handleChangeDesciption","handleChangePrice","postCourse","post","then","window","alert","catch","error","console","log","response","data","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","user","role","for","name","type","id","onChange","_c","$RefreshReg$"],"sources":["/Users/yaoha0807/Desktop/JavaScript/JavaScript_Project/Project9-線上課程網站/client/src/components/postCourse-component.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport CourseService from \"../services/course.service\";\r\n\r\nconst PostCourseComponent = ({ currentUser }) => {\r\n  let [title, setTitle] = useState(\"\");\r\n  let [description, setDescription] = useState(\"\");\r\n  let [price, setPrice] = useState(0);\r\n  let [message, setMessage] = useState(\"\"); // 錯誤 / 成功訊息\r\n  const navigate = useNavigate(); // 重新導向的物件\r\n  // 回到登入頁面\r\n  const handleTakeToLogin = () => {\r\n    navigate(\"/login\");\r\n  };\r\n  // 當偵測到前端元素中...的值改變後，更改其變數的值\r\n  const handleChangeTitle = (e) => {\r\n    setTitle(e.target.value);\r\n  };\r\n  const handleChangeDesciption = (e) => {\r\n    setDescription(e.target.value);\r\n  };\r\n  const handleChangePrice = (e) => {\r\n    setPrice(e.target.value);\r\n  };\r\n\r\n  const postCourse = () => {\r\n    CourseService.post(title, description, price)\r\n      .then(() => {\r\n        window.alert(\"成功創建新課程\");\r\n        navigate(\"/course\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n        setMessage(error.response.data);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"3rem\" }}>\r\n      {/* 當用戶為登入就訪問新增程頁面時，提醒使用者先登入 */}\r\n      {!currentUser && (\r\n        <div>\r\n          <p>在發布新課程之前，您必須先登錄</p>\r\n          <button\r\n            className=\"btn btn-primary btn-lg\"\r\n            onClick={handleTakeToLogin}\r\n          >\r\n            回到登入頁面\r\n          </button>\r\n        </div>\r\n      )}\r\n      {/* 學生的介面 */}\r\n      {currentUser && currentUser.user.role !== \"instructor\" && (\r\n        <div>\r\n          <p>只有講師可以發布新課程</p>\r\n        </div>\r\n      )}\r\n      {/* 講師的介面 */}\r\n      {currentUser && currentUser.user.role == \"instructor\" && (\r\n        <div className=\"form-group\">\r\n          <label for=\"exampleforTitle\">課程標題：</label>\r\n          <input\r\n            name=\"title\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"exampleforTitle\"\r\n            onChange={handleChangeTitle}\r\n          />\r\n          <br />\r\n          <label for=\"exampleforContent\">內容：</label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            id=\"exampleforContent\"\r\n            aria-describedby=\"emailHelp\"\r\n            name=\"content\"\r\n            onChange={handleChangeDesciption}\r\n          />\r\n          <br />\r\n          <label for=\"exampleforPrice\">價格：</label>\r\n          <input\r\n            name=\"price\"\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            id=\"exampleforPrice\"\r\n            onChange={handleChangePrice}\r\n          />\r\n          <br />\r\n          <button className=\"btn btn-primary\" onClick={postCourse}>\r\n            交出表單\r\n          </button>\r\n          <br />\r\n          <br />\r\n          {message && (\r\n            <div className=\"alert alert-warning\" role=\"alert\">\r\n              {message}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCourseComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}